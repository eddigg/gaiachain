# specs/governance_rules.yaml

# Rationale:
# This specification outlines the governance framework for GaiaChain, a fully on-chain Decentralized Autonomous
# Organization (DAO) that empowers stakeholders—users, developers, compute providers, and agents—to collectively
# shape the ecosystem. It defines the DAO’s modular structure, voting mechanisms, reputation systems, and agent
# lifecycle governance, ensuring transparency, fairness, and adaptability. The rules support a decentralized
# intelligence economy by balancing token-based power with reputation-weighted influence, while integrating
# agents as governable entities and planning for future scalability and privacy enhancements.

governance:
  description: "The GaiaChain DAO, governing the ecosystem through on-chain mechanisms."
  type: object
  properties:
    # DAO Structure
    structure:
      description: "Modular sub-DAOs with specific responsibilities."
      type: object
      properties:
        core_protocol_dao:
          type: object
          properties:
            responsibility:
              type: string
              example: "Manages protocol upgrades, parameter changes"
        agent_registry_dao:
          type: object
          properties:
            responsibility:
              type: string
              example: "Reviews, votes on, and prunes dAIs"
        treasury_dao:
          type: object
          properties:
            responsibility:
              type: string
              example: "Allocates GAIA tokens for grants, bounties, and rewards"
        compute_governance_dao:
          type: object
          properties:
            responsibility:
              type: string
              example: "Oversees compute provider rules, slashing, staking"
        reputation_committee:
          type: object
          properties:
            responsibility:
              type: string
              example: "AI-verified actor scoring and conflict resolution"
      additional_properties:
        meta_governance:
          type: string
          description: "Sub-DAOs report to the overarching GaiaChain DAO via meta-governance voting."
          example: "Meta-governance enabled"

    # Voting Mechanisms
    voting_mechanisms:
      description: "Rules for different types of governance decisions."
      type: array
      items:
        type: object
        properties:
          decision_type:
            type: string
            description: "Type of decision being voted on."
          voting_type:
            type: string
            description: "Mechanism used for voting."
          eligibility_criteria:
            type: string
            description: "Who can vote and under what conditions."
        examples:
          - decision_type: "Protocol Upgrade"
            voting_type: "Token-weighted"
            eligibility_criteria: "≥ minimum stake"
          - decision_type: "Agent Onboarding/Removal"
            voting_type: "Hybrid (token + reputation)"
            eligibility_criteria: "Staked GAIA + reputation score"
          - decision_type: "Treasury Grant Allocation"
            voting_type: "Quadratic Voting"
            eligibility_criteria: "All token holders"
          - decision_type: "Compute Node Slashing"
            voting_type: "Validator quorum"
            eligibility_criteria: "Verified compute nodes only"
      additional_properties:
        mechanics:
          type: object
          properties:
            snapshot:
              type: string
              example: "Snapshot-based voting for fairness"
            gasless:
              type: string
              example: "Gasless voting via off-chain signatures"
            timelock:
              type: string
              example: "Timelocks apply before implementation"

    # Reputation Systems
    reputation_systems:
      description: "Non-transferable, on-chain reputation metrics augmenting governance power."
      type: object
      properties:
        actors:
          type: array
          items:
            type: object
            properties:
              actor_type:
                type: string
              reputation_source:
                type: string
            examples:
              - actor_type: "dAI Agents"
                reputation_source: "Accuracy, uptime, user reviews, peer feedback"
              - actor_type: "Developers"
                reputation_source: "Successful agent deployments and bounties"
              - actor_type: "Validators"
                reputation_source: "SLA adherence, task throughput"
              - actor_type: "Users"
                reputation_source: "Voting participation, bug reports, contributions"
        features:
          type: object
          properties:
            ai_verification:
              type: string
              example: "AI-verified proofs enhance credibility (e.g., output verification, agent lineage)"
            decay:
              type: string
              example: "Decay logic ensures reputation must be actively maintained"
            sybil_resistance:
              type: string
              example: "Reputation staking multipliers for sybil resistance"

    # Agent Lifecycle Governance
    agent_lifecycle:
      description: "Rules governing the lifecycle of dAIs under DAO oversight."
      type: object
      properties:
        proposal_phase:
          type: object
          properties:
            submission:
              type: string
              example: "Developer proposes new agent using DSL + metadata"
            stake_requirement:
              type: string
              example: "Minimum GAIA stake to avoid spam"
        community_review:
          type: object
          properties:
            voting:
              type: string
              example: "Stakeholders vote on utility, training provenance, performance"
            review_period:
              type: string
              example: "Includes model transparency reports, sample outputs, attack vectors"
        registration:
          type: object
          properties:
            action:
              type: string
              example: "Approved agent added to Agent Registry with unique DID"
            operation:
              type: string
              example: "Begins serving requests"
        performance_tracking:
          type: object
          properties:
            metrics:
              type: array
              items:
                type: string
              example: ["Task completion rate", "Accuracy (verified by zkML or peer consensus)", "User satisfaction"]
            visibility:
              type: string
              example: "Reputation continuously updated and visible on-chain"
        pruning_or_upgrading:
          type: object
          properties:
            options:
              type: array
              items:
                type: string
              example: ["Retired if underperforming/redundant", "Forked if improvements proposed", "Banned if malicious"]

    # Agent Participation in Governance
    agent_participation:
      description: "Rules for agents acting as DAO voters."
      type: object
      properties:
        eligibility:
          type: array
          items:
            type: string
          example: ["Proven trust metrics and reputation", "Alignment tests or AI constitution checks"]
        influence:
          type: string
          example: "Capped influence to ensure human governance remains central"
        delegation:
          type: string
          example: "Users can empower agents to vote based on specified constraints"

    # Future Governance Considerations
    future_considerations:
      description: "Planned enhancements to governance."
      type: object
      properties:
        meta_governance:
          type: string
          example: "DAOs within verticals (e.g., HealthcareDAO, LegalDAO) for domain-specific decisions"
        compositional_governance:
          type: string
          example: "Coalitions of agents, users, and providers propose complex upgrades"
        zk_governance:
          type: string
          example: "Privacy-preserving voting for sensitive proposals"